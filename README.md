# SoulLink_Live2D

>  LLM é©±åŠ¨çš„ Live2D è¡¨æƒ…æ§åˆ¶ç³»ç»Ÿ

SoulLink_Live2D æ˜¯ä¸€ä¸ªåˆ›æ–°çš„é¡¹ç›®ï¼Œå®ƒä¸é€šè¿‡ç¨‹åºç›´æ¥ä½¿ç”¨æ³¨å†Œçš„motionsï¼Œè€Œæ˜¯é€šè¿‡å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰ç†è§£å¯¹è¯å†…å®¹å’Œæƒ…æ„Ÿï¼Œå®æ—¶æ§åˆ¶ Live2D è™šæ‹Ÿå½¢è±¡çš„è¡¨æƒ…/åŠ¨ä½œå˜åŒ–ï¼Œè®©æ•°å­—äººæ›´åŠ ç”ŸåŠ¨è‡ªç„¶ã€‚

![SoulLink_Live2D Demo](https://img.shields.io/badge/Live2D-Cubism%204-blue) ![Python](https://img.shields.io/badge/Python-3.8+-green) ![License](https://img.shields.io/badge/License-MIT-yellow)

## ç‰¹æ€§

-  **AI é©±åŠ¨è¡¨æƒ…** - é€šè¿‡ LLM ç†è§£æ–‡æœ¬æƒ…æ„Ÿï¼Œè‡ªåŠ¨ç”Ÿæˆè¡¨æƒ…å‚æ•°
-  **å®æ—¶å¯¹è¯** - æ”¯æŒä¸ AI å®æ—¶å¯¹è¯ï¼Œè¡¨æƒ…åŒæ­¥ååº”
-  **å¤šæ¨¡å‹æ”¯æŒ** - è‡ªåŠ¨æ‰«æå¹¶åŠ è½½å¤šä¸ª Live2D æ¨¡å‹
-  **å¹³æ»‘è¿‡æ¸¡** - è¡¨æƒ…å‚æ•°å¹³æ»‘åŠ¨ç”»è¿‡æ¸¡ï¼Œæ•ˆæœè‡ªç„¶
-  **å¯è§†åŒ–æ§åˆ¶** - æä¾›å‚æ•°æ»‘å—ï¼Œæ‰‹åŠ¨å¾®è°ƒè¡¨æƒ…
-  **WebSocket é€šä¿¡** - å‰åç«¯å®æ—¶åŒå‘é€šä¿¡
-  **ç»Ÿä¸€é…ç½®** - æ‰€æœ‰è®¾ç½®é›†ä¸­åœ¨ `config.yaml`

## é¢„è§ˆ



https://github.com/user-attachments/assets/d09a83d0-1f92-4cd8-b53c-e6204f7521e2



## ğŸ’ ä¸“å± API æœåŠ¡æ”¯æŒï¼ˆæ¨èï¼‰

ä¸ºäº†æ–¹ä¾¿å¼€å‘è€…å¿«é€Ÿè·‘é€šé¡¹ç›®ï¼Œ**æœ¬é¡¹ç›®æä¾›äº†ä¸“å±çš„é«˜é€Ÿ API ä¸­è½¬æœåŠ¡**ã€‚æ— éœ€æŠ˜è…¾ç½‘ç»œç¯å¢ƒæˆ–ç”³è¯·æµ·å¤–ä¿¡ç”¨å¡ï¼Œç›´æ¥æ³¨å†Œè´¦å·é…ç½®å³å¯ä½¿ç”¨ã€‚

* **æœåŠ¡åœ°å€**: `http://115.190.234.39:3000`
###  æˆ‘ä»¬çš„ä¼˜åŠ¿:
*  **ä»·æ ¼ä½å»‰**ï¼šæä½å»¶è¿Ÿï¼Œé’ˆå¯¹ Live2D å®æ—¶æµå¼å“åº”ä¼˜åŒ–
*  **å…¨æ¨¡å‹æ”¯æŒ**ï¼šèšåˆ claude-opus-4-5ï¼Œgemini-3-pro ç­‰å‰æ²¿æ¨¡å‹ï¼Œä¸ºæœ¬é¡¹ç›®ä¸“é—¨æä¾›äº†ä½å»¶è¿Ÿçš„ gemini-2.5-flash-lite æ¨¡å‹æ”¯æŒï¼Œæœ€å¤§ç¨‹åº¦æå‡LLMè¡¨æƒ…æ§åˆ¶çš„é€Ÿåº¦ä¸è´¨é‡
*  **ç¨³å®šå…¼å®¹**ï¼šå®Œå…¨å…¼å®¹ OpenAI ç­‰ä¾›åº”å•†çš„æ¥å£æ ¼å¼



> *åŠ å…¥é¡¹ç›®äº¤æµç¾¤å…è´¹é¢†å–ä½“éªŒä½™é¢ï¼ˆè§åº•éƒ¨ï¼‰ã€‚*

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Python 3.8+
- ç°ä»£æµè§ˆå™¨ï¼ˆChrome/Edge/Firefoxï¼‰
- LLM APIï¼ˆOpenAI / DeepSeek / Ollama ç­‰ï¼‰

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
```bash
git clone https://github.com/your-repo/SoulLink_Live2D.git
cd SoulLink_Live2D
```

2. **å®‰è£…ä¾èµ–**
```bash
pip install -r requirements.txt
```

3. **é…ç½® API Key**

ç¼–è¾‘ `config.yaml`ï¼Œè®¾ç½®ä½ çš„ LLM APIï¼š

```yaml
llm:
  provider: openai
  apiKey: "your-api-key-here"
  baseUrl: "https://api.openai.com/v1"
  model: "gpt-4o-mini"
```

**æ”¯æŒçš„ API æœåŠ¡ï¼š**
| æœåŠ¡å•† | baseUrl | æ¨¡å‹ç¤ºä¾‹ |
|--------|---------|----------|
| OpenAI | https://api.openai.com/v1 | gpt-4o-mini, gpt-4o |
| DeepSeek | https://api.deepseek.com/v1 | deepseek-chat |
| SiliconFlow | https://api.siliconflow.cn/v1 | deepseek-ai/DeepSeek-V3 |
| Ollamaï¼ˆæœ¬åœ°ï¼‰ | http://localhost:11434/v1 | llama2, mistral |

4. **æ”¾ç½® Live2D æ¨¡å‹**

å°† Live2D Cubism æ¨¡å‹æ”¾å…¥ `l2d/` ç›®å½•ï¼š
```
l2d/
â”œâ”€â”€ your_model/
â”‚   â”œâ”€â”€ your_model.model3.json  # å¿…éœ€
â”‚   â”œâ”€â”€ your_model.moc3         # å¿…éœ€
â”‚   â”œâ”€â”€ your_model.physics3.json
â”‚   â”œâ”€â”€ textures/
â”‚   â””â”€â”€ motions/
```

5. **å¯åŠ¨æœåŠ¡å™¨**
```bash
python server.py
```

6. **æ‰“å¼€æµè§ˆå™¨**

è®¿é—® http://localhost:3000

## ğŸ“– ä½¿ç”¨æ–¹æ³•

### æ–¹å¼ä¸€ï¼šå¯¹è¯é¢æ¿

åœ¨å·¦ä¾§èŠå¤©é¢æ¿è¾“å…¥æ¶ˆæ¯ï¼ŒAI ä¼šå›å¤å¹¶åŒæ—¶åšå‡ºè¡¨æƒ…ååº”ã€‚

### æ–¹å¼äºŒï¼šæµè§ˆå™¨æ§åˆ¶å°

```javascript
// æ ¹æ®æ–‡æœ¬ç”Ÿæˆè¡¨æƒ…ååº”
reactTo("ä½ ä»Šå¤©çœŸå¯çˆ±ï¼")

// æ˜¾ç¤ºæŒ‡å®šæƒ…æ„Ÿ
showEmotion("å¼€å¿ƒ")
showEmotion("å®³ç¾")
showEmotion("æƒŠè®¶")

// å¸¦æƒ…æ„Ÿçš„å°è¯
speakWithEmotion("è°¢è°¢ä½ çš„å¤¸å¥–~", "å®³ç¾")

// æœ¬åœ°é¢„è®¾è¡¨æƒ…ï¼ˆæ— éœ€ APIï¼‰
applyLocalExpression("happy")
applyLocalExpression("shy")
applyLocalExpression("surprised")

// é‡ç½®è¡¨æƒ…
resetExpression()
```

### æ–¹å¼ä¸‰ï¼šç›´æ¥è°ƒç”¨ API

```javascript
// å®Œæ•´æ§åˆ¶
SoulLink.generateAndApplyExpression("æ”¶åˆ°ä¸€ä¸ªç¤¼ç‰©ï¼Œéå¸¸æƒŠå–œ", "ç”Ÿæ—¥æ´¾å¯¹åœºæ™¯")

// æ‰‹åŠ¨è®¾ç½®å‚æ•°
SoulLink.transitionToExpression({
    "ParamEyeLOpen": 1.0,
    "ParamEyeROpen": 1.0,
    "ParamMouthForm": 0.8
}, 500)
```

## âš™ï¸ é…ç½®è¯´æ˜

`config.yaml` å®Œæ•´é…ç½®ï¼š

```yaml
# æœåŠ¡å™¨é…ç½®
server:
  host: "0.0.0.0"
  port: 3000
  modelDirs:
    - "./l2d"

# LLM API é…ç½®
llm:
  provider: openai
  apiKey: "your-api-key"
  baseUrl: "https://api.openai.com/v1"
  model: "gpt-4o-mini"
  temperature: 0.7      # åˆ›é€ æ€§ï¼ˆ0-1ï¼‰
  maxTokens: 500        # æœ€å¤§ token æ•°

# åŠ¨ç”»é…ç½®
animation:
  defaultDuration: 1000  # è¿‡æ¸¡æ—¶é—´(ms)
  easing: "easeInOutCubic"
  autoResetDelay: 1500   # è‡ªåŠ¨é‡ç½®å»¶è¿Ÿ(ms)

# ç•Œé¢é…ç½®
ui:
  showControlPanel: true
  showPhysicsParams: false
  defaultBackground: 0
```

## é¡¹ç›®ç»“æ„

```
SoulLink_Live2D/
â”œâ”€â”€ server.py           # Python åç«¯æœåŠ¡å™¨
â”œâ”€â”€ config.yaml         # ç»Ÿä¸€é…ç½®æ–‡ä»¶
â”œâ”€â”€ index.html          # å‰ç«¯é¡µé¢
â”œâ”€â”€ requirements.txt    # Python ä¾èµ–
â”œâ”€â”€ js/
â”‚   â”œâ”€â”€ main.js             # Live2D åŠ è½½ä¸æ¸²æŸ“
â”‚   â”œâ”€â”€ llm-expression.js   # LLM è¡¨æƒ…æ§åˆ¶æ ¸å¿ƒ
â”‚   â”œâ”€â”€ chat.js             # èŠå¤©æ¨¡å—
â”‚   â”œâ”€â”€ websocket-client.js # WebSocket å®¢æˆ·ç«¯
â”‚   â””â”€â”€ config-loader.js    # é…ç½®åŠ è½½å™¨
â”œâ”€â”€ l2d/                # Live2D æ¨¡å‹ç›®å½•
â”œâ”€â”€ background/         # èƒŒæ™¯å›¾ç‰‡
â”œâ”€â”€ models              # å…¶å®ƒå¯ä¾›æµ‹è¯•çš„l2dæ¨¡å‹
â””â”€â”€ docs/
    â””â”€â”€ LLM_EXPRESSION_PRINCIPLE.md  # åŸç†è¯´æ˜
```

## ğŸ”§ API å‚è€ƒ

### SoulLink å¯¹è±¡

| æ–¹æ³• | è¯´æ˜ |
|------|------|
| `reactTo(text)` | æ ¹æ®æ–‡æœ¬ç”Ÿæˆååº”è¡¨æƒ… |
| `showEmotion(emotion)` | æ˜¾ç¤ºæŒ‡å®šæƒ…æ„Ÿ |
| `speakWithEmotion(text, emotion)` | å¸¦æƒ…æ„Ÿè¯´è¯ |
| `applyLocalExpression(name)` | åº”ç”¨æœ¬åœ°é¢„è®¾è¡¨æƒ… |
| `transitionToExpression(params, duration)` | è¿‡æ¸¡åˆ°æŒ‡å®šå‚æ•° |
| `resetToDefault()` | é‡ç½®ä¸ºé»˜è®¤è¡¨æƒ… |

### æœ¬åœ°é¢„è®¾è¡¨æƒ…

- `happy` - å¼€å¿ƒ
- `sad` - æ‚²ä¼¤
- `angry` - ç”Ÿæ°”
- `surprised` - æƒŠè®¶
- `shy` - å®³ç¾
- `thinking` - æ€è€ƒ
- `sleepy` - å›°å€¦
- `wink` - çœ¨çœ¼

##  å¸¸è§é—®é¢˜

**Q: è¡¨æƒ…å˜åŒ–ä¸æ˜æ˜¾ï¼Ÿ**
A: å°è¯•é™ä½ `temperature` å€¼ï¼ˆå¦‚ 0.3ï¼‰ï¼Œæˆ–åœ¨æç¤ºä¸­å¼ºè°ƒ"å‚æ•°å€¼è¦å¤§"ã€‚

**Q: æ”¯æŒ Cubism 2/3 æ¨¡å‹å—ï¼Ÿ**
A: ç›®å‰ä»…æ”¯æŒ Cubism 4 (.model3.json)ã€‚

**Q: å¦‚ä½•æ·»åŠ æ–°æ¨¡å‹ï¼Ÿ**
A: å°†æ¨¡å‹æ–‡ä»¶å¤¹æ”¾å…¥ `l2d/` ç›®å½•ï¼ŒæœåŠ¡å™¨ä¼šè‡ªåŠ¨æ£€æµ‹ã€‚

**Q: API è°ƒç”¨å¤±è´¥ï¼Ÿ**
A: æ£€æŸ¥ `config.yaml` ä¸­çš„ apiKey å’Œ baseUrl æ˜¯å¦æ­£ç¡®ã€‚

##  å¼€å‘è®¡åˆ’
```mermaid
%%{init: {'theme': 'base', 'themeVariables': { 'primaryColor': '#fff', 'edgeLabelBackground':'#fff', 'tertiaryColor': '#e3f2fd'}}}%%
graph TD
    %% æ ·å¼å®šä¹‰
    classDef phase1 fill:#e8f5e9,stroke:#2e7d32,stroke-width:2px;
    classDef phase2 fill:#e3f2fd,stroke:#1565c0,stroke-width:2px;
    classDef phase3 fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px,stroke-dasharray: 5 5;

    subgraph P1 [Phase 1: æ ¸å¿ƒå¢å¼º]
        direction TB
        %% ä¿®å¤ï¼šæ·»åŠ äº†åŒå¼•å· "" åŒ…è£¹æ–‡æœ¬
        Task1["âœ¨ æ›´ä¸°å¯Œçš„åŠ¨ä½œæ§åˆ¶<br/>(èº«ä½“/å¤´éƒ¨/ç‰©ç†)"]:::phase1
        Task2["ğŸ› ï¸ æ³›ç”¨æ€§ä¿®å¤ &<br/>è‡ªåŠ¨å‚æ•°æ˜ å°„"]:::phase1
    end

    subgraph P2 [Phase 2: æ€§èƒ½ä¸æœ¬åœ°åŒ–]
        direction TB
        Task3["ğŸš€ å“åº”é€Ÿåº¦ä¼˜åŒ–"]:::phase2
        Task4["ğŸ  æœ¬åœ°å°æ¨¡å‹ (SLM)<br/>å¾®è°ƒä¸éƒ¨ç½²"]:::phase2
    end

    subgraph P3 [Phase 3: ç”Ÿæ€ä¸å½¢æ€]
        direction TB
        Task5["ğŸ”Œ Agent ç”Ÿæ€æ’ä»¶åŒ–<br/>(LangChain/Dify)"]:::phase3
        Task6["ğŸ–¥ï¸ æ¡Œé¢ Agent å®¢æˆ·ç«¯<br/>(Electron/Tauri)"]:::phase3
    end

    P1 --> P2 --> P3
```

##  è®¸å¯è¯

MIT License

## è‡´è°¢

- [Live2D Cubism SDK](https://www.live2d.com/)
- [pixi-live2d-display](https://github.com/guansss/pixi-live2d-display)
- [PixiJS](https://pixijs.com/)

## æŠ€æœ¯åŸç†

æœ¬é¡¹ç›®ä¸ä»…ä»…æ˜¯ç®€å•çš„å…³é”®è¯åŒ¹é…ã€‚å…³äº LLM å¦‚ä½•å°†è‡ªç„¶è¯­è¨€æ˜ å°„ä¸º Cubism å‚æ•°çš„è¯¦ç»†åŸç†ï¼Œè¯·å‚é˜…ï¼š

* [LLM_EXPRESSION_PRINCIPLE.md](https://www.google.com/search?q=docs/LLM_EXPRESSION_PRINCIPLE.md)

## è”ç³»ä¸æ”¯æŒ

å¦‚æœä½ å¯¹é¡¹ç›®æ„Ÿå…´è¶£ï¼Œæˆ–éœ€è¦ **API ä¸­è½¬ç«™çš„ä½¿ç”¨æƒé™**ï¼Œæ¬¢è¿é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

* **Email**: [20241008398@stu.shzu.edu.cn](mailto:20241008398@stu.shzu.edu.cn)
* **Project Group**: 704578889 (LynngNANçš„é¡¹ç›®ç¾¤)
* **API Service**: [http://115.190.234.39:3000](https://www.google.com/url?sa=E&source=gmail&q=http://115.190.234.39:3000)
